{% load static i18n load_static %}

<header class="main-header" style="position:sticky; top:0">
    <div class="col-left">
        <div class="logo-large">
            <a href="{% url 'index' %}" title="Thế giới Nhà Phố logo">
                <img src="{% static 'img/logo-ko-chu.svg' %}" alt="Thế giới Nhà Phố">
            </a>
        </div>
        <div class="logo">
            <a href="{% url 'index' %}" data-mix-header-click="group: logo, action: click_logo"
               title="Thế giới Nhà Phố logo">
                <img src="{% static 'img/logo-ko-chu.svg' %}" alt="Thế giới Nhà Phố">
            </a>
            <div class="main-nav-menu">
                <div class="main-nav-menu__head">
                    <a href="{% url 'index' %}" class="logo">
                        <img src="{% static 'img/logo-ko-chu.svg' %}" alt="Thế giới Nhà Phố">
                    </a>
                    <button class="close__main-menu">
                        <i class="zmdi zmdi-close"></i>
                    </button>
                </div>
                <ul class="login">
                  {% include "menu/_subMenuUserProfile.html" %}
                </ul>
                <ul>
                    <li class="sub-menu">
                        <a href="{% url 'index' %}">Trang chủ</a>
                    </li>
                    {% include "menu/_subMenuBuy.html" %}
                    {% include "menu/_subMenuSell.html" %}
                    {% include "menu/_subMenuBuySellNews.html" %}
                    {% include "menu/_subMenuProject.html" %}
                    {% include "menu/_subMenuSupport.html" %}
                </ul>
            </div>
            <div class="main-nav-menu__overlay"></div>
        </div>
        <div class="top-search" id="topSearchForm">
            <a href="#"></a>
            <form action="{% url 'listing_search' %}">
                <div tabindex="0" class="search-type"><span>Mua nhà</span>
                    <ul class="hide">
                        <li>
                            Thuê nhà
                        </li>
                        <li>
                            Dự án
                        </li>
                    </ul>
                </div>
                <i class="zmdi zmdi-search"></i>
                <div class="search-type-mobile">
                    Mua •
                </div>
                <input placeholder="Nhập mã BĐS, địa điểm, khu dân cư, tòa nhà" type="search" autocomplete="disabled"
                       v-model="query" v-on:input="handleQueryChange"
                       v-bind:class="{ inputInProgress: isLoading, }"
                       v-on:focus="handleFocus"
                       spellcheck="false" dir="auto" name="keywords">
            </form>
        </div>
    </div>
    <div class="col-right">
        <div class="top-menu">
            <ul>
                <li>
                    <a href="tel:0916 286 256" data-mix-header-click="group: hotline, action: click_hotline">
                        <i class="zmdi zmdi-phone"></i>
                        <span>0916 286 256</span>
                    </a>
                    <a href="javascript:void(0)" class="menu-humber" style="opacity: 0.7">
                        <i class="zmdi zmdi-menu"></i>
                    </a>
                </li>
                {% include "menu/_subMenuBuy.html" %}
                {% include "menu/_subMenuSell.html" %}
                {% include "menu/_subMenuBuySellNews.html" %}
                {% include "menu/_subMenuProject.html" %}
                {% include "menu/_subMenuSupport.html" %}
            </ul>
        </div>
        <div class="top-menu login">
            <ul {% comment %}class="welcome-user"{% endcomment %}>
                {% include "menu/_subMenuUserProfile.html" %}
            </ul>
            <div class="agency-tgnp">
                <a href="{% url "post_listings" %}" title="Đăng tin nhà đất"><i class="fa fa-pencil-alt"></i> {% translate 'Đăng tin miễn phí' %}</a>
            </div>
        </div>
    </div>
    </div>

    <div class="search-mobile-component" keyword="" init-title=""
         placeholder="Nhập địa điểm, khu dân cư, tòa nhà"></div>
</header>

<script type="text/x-template" id="topSearchTemplate">
    <div class="top-search">
        <a href="#"></a>
        <form action="{% url "listing_search" %}">
            <div tabindex="0" class="search-type"><span>Mua nhà</span>
                <ul class="hide">
                    <li>
                        Thuê nhà
                    </li><!---->
                    <li>
                        Dự án
                    </li>
                </ul>
            </div>
            <i v-show="!isLoading" class="zmdi zmdi-search" style="opacity: 0.3"></i>
            <i v-show="isLoading" class="zmdi zmdi-refresh zmdi-hc-spin"></i>
            <div class="search-type-mobile">
                Mua •
            </div>
            <div style="width: 100%" v-click-outside="handleFocus">
                <input placeholder="Nhập mã BĐS, địa điểm, khu dân cư, tòa nhà" type="search" autocomplete="disabled"
                       name="keywords"
                       spellcheck="false" dir="auto"
                       v-model="query"
                       v-on:input="handleQueryChange"
                       v-bind:class="{ inputInProgress: isLoading, }"
                       v-on:focus="handleFocus"
                />
                <ul class="search-suggest-list" v-show="suggestions.length && isFocus">
                    <li v-for="suggestion in suggestions" :key="suggestion.type" class="search-result"
                        v-bind:class="{'search-result-type-heading': suggestion.isHeader}">
            <span v-if="suggestion.isHeader">
              <strong>${ suggestion.text }$</strong>
            </span>
                        <span v-else>
            <a v-bind:href="suggestion.link">
              ${ suggestion.text }$ <i v-if="suggestion.subText">${ suggestion.subText }$</i>
            </a>
          </span>
                    </li>
                </ul>
            </div>

        </form>
    </div>
</script>
